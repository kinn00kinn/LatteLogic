/*
 * Obsidian Theme: Step-Down Headers
 * Description: Clarifies hierarchy using vertical bars, indentation, underlines, and font sizes.
 *              Includes support for both Reading (Preview) and Editing (Live Preview) modes.
 */

/* ==========================================================================
   Base Theme Settings (Sharp corners aesthetic)
   ========================================================================== */
body {
	--radius-s: 0px;
	--radius-m: 0px;
	--radius-l: 0px;
	--input-radius: 0px;
	--tab-radius-active: 0px;
	--checkbox-radius: 0px;
	--toggle-radius: 0px;
	--toggle-thumb-radius: 0px;
	--slider-thumb-radius: 0px;
}

/* Remove active tab indicators for a cleaner look */
.workspace-tab-header.is-active::before, 
.workspace-tab-header.is-active::after {
	display: none;
}

/* Sharp corners for SVG elements */
svg * {
	stroke-linecap: square;
	stroke-linejoin: miter;
	rx: 0;
	ry: 0;
}

/* Menu Spacing */
.menu {
	padding: var(--size-2-1);
}

.menu-item {
	padding: var(--size-4-1) var(--size-4-2);
}

.menu-separator {
	margin: var(--size-2-1) calc(var(--size-2-1) * -1);
}

/* ==========================================================================
   Header Styles (Step-Down Design)
   Feature: Uses padding-left for indentation (no negative margins).
   ========================================================================== */

/* --- Common Styles for Headers --- */
/* Targeting Reading View (h1-h6) and Live Preview (.HyperMD-header) */
:is(.markdown-preview-view h1, .markdown-preview-view h2, .markdown-preview-view h3, .markdown-preview-view h4, .markdown-preview-view h5, .markdown-preview-view h6),
:is(.markdown-source-view .HyperMD-header) {
	/* Vertical Bar Style */
	border-left-style: solid;
	border-left-color: var(--text-normal); /* Default color, overridden by specific levels */
	
	/* Reset & Spacing */
	border-top: none;
	margin-left: 0; /* Reset margin to prevent overflow */
	padding-top: 0.2em;
	padding-bottom: 0.4em;
	margin-top: 1.5em;
	line-height: 1.3;
	
	/* Smooth Transition for hover effects */
	transition: border-left-color 0.2s ease, padding-left 0.2s ease, background-color 0.2s ease;
}

/* Hover Effect: Highlight the vertical bar */
:is(.markdown-preview-view h1, .markdown-preview-view h2, .markdown-preview-view h3, .markdown-preview-view h4, .markdown-preview-view h5, .markdown-preview-view h6):hover,
:is(.markdown-source-view .HyperMD-header):hover {
	border-left-color: var(--interactive-accent-hover);
}

/* --- H1 (Title/Top Level) --- */
:is(.markdown-preview-view h1, .markdown-source-view .HyperMD-header-1) {
	font-size: 1.8em;
	font-weight: 700;
	
	border-left-width: 8px;
	border-left-color: var(--interactive-accent);
	
	padding-left: 0.5em;
	
	border-bottom: 2px solid var(--background-modifier-border);
}

/* --- H2 (Chapter) --- */
:is(.markdown-preview-view h2, .markdown-source-view .HyperMD-header-2) {
	font-size: 1.6em;
	font-weight: 600;
	margin-top: 2.5em;
	
	border-left-width: 6px;
	border-left-color: var(--text-accent);
	
	padding-left: 0.8em;
	
	border-bottom: 1px solid var(--background-modifier-border);
}

/* --- H3 (Section) --- */
:is(.markdown-preview-view h3, .markdown-source-view .HyperMD-header-3) {
	font-size: 1.4em;
	font-weight: 600;
	
	border-left-width: 4px;
	border-left-color: var(--text-normal);
	
	padding-left: 1.1em;
	
	border-bottom: 1px dotted var(--text-faint);
}

/* --- H4 (Subsection) --- */
:is(.markdown-preview-view h4, .markdown-source-view .HyperMD-header-4) {
	font-size: 1.2em;
	font-weight: 600;
	
	border-left-width: 3px;
	border-left-color: var(--text-faint);
	
	padding-left: 1.4em;
	
	border-bottom: 1px dotted var(--text-faint);
}

/* --- H5 --- */
:is(.markdown-preview-view h5, .markdown-source-view .HyperMD-header-5) {
	font-size: 1.1em;
	font-weight: 500;
	margin-top: 1.0em;
	
	border-left-width: 2px;
	border-left-color: var(--text-muted);
	
	padding-left: 1.7em;
	
	border-bottom: none;
}

/* --- H6 --- */
:is(.markdown-preview-view h6, .markdown-source-view .HyperMD-header-6) {
	font-size: 1.0em;
	font-weight: 500;
	margin-top: 1.0em;
	
	border-left-width: 2px;
	border-left-color: var(--text-muted);
	
	padding-left: 2.0em;
	
	border-bottom: none;
	color: var(--text-muted); /* Dim the text color for H6 */
}

/* ==========================================================================
   Visual Enhancements (Ingenuity)
   ========================================================================== */

/* H1 & H2 Hover: Subtle gradient background to emphasize major sections */
:is(.markdown-preview-view h1, .markdown-source-view .HyperMD-header-1):hover,
:is(.markdown-preview-view h2, .markdown-source-view .HyperMD-header-2):hover {
	background: linear-gradient(to right, var(--background-modifier-hover), transparent);
}

/* Live Preview: Dim the markdown hash characters for cleaner reading */
.markdown-source-view .cm-formatting-header {
	opacity: 0.25;
	font-weight: normal;
	margin-right: 0.2em;
}

/* Print Optimization: Remove background modifications when printing */
@media print {
	:is(.markdown-preview-view h1, .markdown-preview-view h2) {
		border-bottom-color: #000;
	}
}